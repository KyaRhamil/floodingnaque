# ============================================================================
# WEB FRAMEWORK & API
# ============================================================================
Flask==3.0.3
flask-cors==4.0.1
Werkzeug==3.0.4

# Production Servers
gunicorn==22.0.0  # Linux/macOS/Docker
waitress==3.0.0  # Windows alternative

# ============================================================================
# HTTP & EXTERNAL APIs
# ============================================================================
requests==2.32.3
urllib3>=2.0.0,<3.0.0  # Explicit for security

# ============================================================================
# DATA PROCESSING & MACHINE LEARNING
# ============================================================================
# Core scientific stack - version ranges for compatibility
numpy>=2.1.0
pandas>=2.1.0,<3.0.0
scikit-learn==1.8.0  # Pinned for model consistency
joblib==1.4.2

# ============================================================================
# SCHEDULING & BACKGROUND TASKS
# ============================================================================
APScheduler==3.10.4

# ============================================================================
# CONFIGURATION & ENVIRONMENT
# ============================================================================
python-dotenv==1.0.1

# ============================================================================
# DATABASE & ORM
# ============================================================================
SQLAlchemy==2.0.35
alembic==1.13.3
pg8000==1.31.2  # Pure Python PostgreSQL driver (Supabase/Windows compatible)
# psycopg2-binary==2.9.10  # Alternative: Faster C-based driver for Linux/Docker
                           # Commented out by default due to Windows compilation issues
                           # Uncomment if deploying to Linux and need better performance

# ============================================================================
# DATA VISUALIZATION
# ============================================================================
matplotlib==3.9.2
seaborn==0.13.2

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
cryptography==43.0.3  # Latest security patches
itsdangerous==2.2.0
bcrypt==4.2.1
PyJWT==2.9.0  # For JWT token-based authentication

# ============================================================================
# INPUT VALIDATION & SANITIZATION
# ============================================================================
validators==0.34.0
bleach==6.2.0
email-validator==2.2.0  # Enhanced email validation

# ============================================================================
# RATE LIMITING & CACHING
# ============================================================================
Flask-Limiter==3.8.0
redis==5.2.0  # For rate limiting and caching
limits==3.13.0  # Required by Flask-Limiter

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================
flask-compress==1.15
Flask-Caching==2.3.0  # Response caching

# ============================================================================
# MONITORING, LOGGING & ERROR TRACKING
# ============================================================================
python-json-logger==3.2.1
prometheus-flask-exporter>=0.23.0  # Prometheus metrics (kept from original)
sentry-sdk[flask]==2.18.0  # Installed but not yet configured
                           # To enable: Set SENTRY_DSN in .env and initialize in app.py
                           # See: https://docs.sentry.io/platforms/python/guides/flask/

# ============================================================================
# PROGRESS TRACKING
# ============================================================================
tqdm==4.67.1

# ============================================================================
# WEATHER DATA SOURCES
# ============================================================================
meteostat==1.6.8

# Model Explainability (Large dependency ~500MB)
# shap==0.46.0  # Optional: Uncomment for model explainability features
                # Note: Large download (~500MB), install separately if needed:
                # pip install shap==0.46.0

# Geospatial (for flood mapping features)
geopandas==1.0.1
folium==0.18.0  # Interactive maps
shapely==2.0.6  # Geometric operations

# Time Series Analysis (for temporal pattern analysis)
statsmodels==0.14.4
prophet==1.1.6  # Facebook's forecasting tool
